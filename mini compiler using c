#include <stdio.h>
#include <string.h>
int main() {
char string[100];
int numbers[50], number_count = 0;
char operators[50];
int operator_count = 0;
int i, j, length;
printf("Enter Expression = ");
scanf("%s", string);
length = strlen(string);
if (!(string[0] >= '0' && string[0] <= '9') || !(string[length-1] >= '0' && string[length-1] <= '9')) {
printf("Invalid Expression\n");
return 0;
}
for (i = 0; i < length; i++) {
if (string[i] >= '0' && string[i] <= '9') {
}
else if (string[i] == '+' || string[i] == '-' || string[i] == '*' || string[i] == '/') {
if (string[i-1] < '0' || string[i-1] > '9') {
printf("Invalid Expression\n");
return 0;
}
}
else {
printf("Invalid Expression\n");
return 0;
}
}
int current_number = 0;
for (i = 0; i < length; i++) {
if (string[i] >= '0' && string[i] <= '9') {
current_number = current_number * 10 + (string[i] - '0');
} else {
numbers[number_count++] = current_number;
current_number = 0;
operators[operator_count++] = string[i];
}
}
numbers[number_count++] = current_number;
for (i = 0; i < operator_count; i++) {
if (operators[i] == '*' || operators[i] == '/') {
if (operators[i] == '*') numbers[i] = numbers[i] * numbers[i+1];
else numbers[i] = numbers[i] / numbers[i+1];
for (j = i+1; j < number_count; j++) numbers[j] = numbers[j+1];
for (j = i; j < operator_count; j++) operators[j] = operators[j+1];
number_count--;
operator_count--;
i--;
}
}
int result = numbers[0];
int number_index = 1;
for (i = 0; i < operator_count; i++) {
if (operators[i] == '+') result = result + numbers[number_index];
else result = result - numbers[number_index];
number_index++;
}
printf("Valid Expression\n");
printf("Result = %d\n", result);
return 0;
}
